/**
 * @file
 * Integration file for fancyBox module.
 */

(function($) {
  Drupal.behaviors.fancyBox = {
    attach: function(context, settings) {
      var selectors = ['.fancybox'];

      if (typeof settings.fancybox === 'undefined') {
        settings.fancybox = {};
      }

      if (typeof settings.fancybox.options === 'undefined') {
        settings.fancybox.options = {};
      }

      if (typeof settings.fancybox.callbacks !== 'undefined') {
        $.each(settings.fancybox.callbacks, function(i, cal) {
          settings.fancybox.options[i] = window[cal];
        });
      }

      if (typeof settings.fancybox.helpers !== 'undefined') {
        settings.fancybox.options.helpers = settings.fancybox.helpers;
        delete settings.fancybox.helpers;
      }

      if (typeof settings.fancybox.selectors !== 'undefined') {
        selectors = selectors.concat(settings.fancybox.selectors);
      }

      // Not needed because behaviors are reattached.
      settings.fancybox.options.live = false;

      $(selectors.join(',')).fancybox(settings.fancybox.options);
    }
  };
})(jQuery);
;/**/
/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */
(function(s,H,f,w){var K=f("html"),q=f(s),p=f(H),b=f.fancybox=function(){b.open.apply(this,arguments)},J=navigator.userAgent.match(/msie/i),C=null,t=H.createTouch!==w,u=function(a){return a&&a.hasOwnProperty&&a instanceof f},r=function(a){return a&&"string"===f.type(a)},F=function(a){return r(a)&&0<a.indexOf("%")},m=function(a,d){var e=parseInt(a,10)||0;d&&F(a)&&(e*=b.getViewport()[d]/100);return Math.ceil(e)},x=function(a,b){return m(a,b)+"px"};f.extend(b,{version:"2.1.5",defaults:{padding:15,margin:20,
width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!t,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},
keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(J?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,
openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,
isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,d){if(a&&(f.isPlainObject(d)||(d={}),!1!==b.close(!0)))return f.isArray(a)||(a=u(a)?f(a).get():[a]),f.each(a,function(e,c){var l={},g,h,k,n,m;"object"===f.type(c)&&(c.nodeType&&(c=f(c)),u(c)?(l={href:c.data("fancybox-href")||c.attr("href"),title:f("<div/>").text(c.data("fancybox-title")||c.attr("title")).html(),isDom:!0,element:c},
f.metadata&&f.extend(!0,l,c.metadata())):l=c);g=d.href||l.href||(r(c)?c:null);h=d.title!==w?d.title:l.title||"";n=(k=d.content||l.content)?"html":d.type||l.type;!n&&l.isDom&&(n=c.data("fancybox-type"),n||(n=(n=c.prop("class").match(/fancybox\.(\w+)/))?n[1]:null));r(g)&&(n||(b.isImage(g)?n="image":b.isSWF(g)?n="swf":"#"===g.charAt(0)?n="inline":r(c)&&(n="html",k=c)),"ajax"===n&&(m=g.split(/\s+/,2),g=m.shift(),m=m.shift()));k||("inline"===n?g?k=f(r(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):l.isDom&&(k=c):
"html"===n?k=g:n||g||!l.isDom||(n="inline",k=c));f.extend(l,{href:g,type:n,content:k,title:h,selector:m});a[e]=l}),b.opts=f.extend(!0,{},b.defaults,d),d.keys!==w&&(b.opts.keys=d.keys?f.extend({},b.defaults.keys,d.keys):!1),b.group=a,b._start(b.opts.index)},cancel:function(){var a=b.coming;a&&!1===b.trigger("onCancel")||(b.hideLoading(),a&&(b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),
b.coming=null,b.current||b._afterZoomOut(a)))},close:function(a){b.cancel();!1!==b.trigger("beforeClose")&&(b.unbindEvents(),b.isActive&&(b.isOpen&&!0!==a?(b.isOpen=b.isOpened=!1,b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),b.transitions[b.current.closeMethod]()):(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut())))},play:function(a){var d=function(){clearTimeout(b.player.timer)},e=function(){d();b.current&&b.player.isActive&&
(b.player.timer=setTimeout(b.next,b.current.playSpeed))},c=function(){d();p.unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};!0===a||!b.player.isActive&&!1!==a?b.current&&(b.current.loop||b.current.index<b.group.length-1)&&(b.player.isActive=!0,p.bind({"onCancel.player beforeClose.player":c,"onUpdate.player":e,"beforeLoad.player":d}),e(),b.trigger("onPlayStart")):c()},next:function(a){var d=b.current;d&&(r(a)||(a=d.direction.next),b.jumpto(d.index+1,a,"next"))},prev:function(a){var d=
b.current;d&&(r(a)||(a=d.direction.prev),b.jumpto(d.index-1,a,"prev"))},jumpto:function(a,d,e){var c=b.current;c&&(a=m(a),b.direction=d||c.direction[a>=c.index?"next":"prev"],b.router=e||"jumpto",c.loop&&(0>a&&(a=c.group.length+a%c.group.length),a%=c.group.length),c.group[a]!==w&&(b.cancel(),b._start(a)))},reposition:function(a,d){var e=b.current,c=e?e.wrap:null,l;c&&(l=b._getPosition(d),a&&"scroll"===a.type?(delete l.position,c.stop(!0,!0).animate(l,200)):(c.css(l),e.pos=f.extend({},e.dim,l)))},
update:function(a){var d=a&&a.originalEvent&&a.originalEvent.type,e=!d||"orientationchange"===d;e&&(clearTimeout(C),C=null);b.isOpen&&!C&&(C=setTimeout(function(){var c=b.current;c&&!b.isClosing&&(b.wrap.removeClass("fancybox-tmp"),(e||"load"===d||"resize"===d&&c.autoResize)&&b._setDimension(),"scroll"===d&&c.canShrink||b.reposition(a),b.trigger("onUpdate"),C=null)},e&&!t?0:300))},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?a:!b.current.fitToView,t&&(b.wrap.removeAttr("style").addClass("fancybox-tmp"),
b.trigger("onUpdate")),b.update())},hideLoading:function(){p.unbind(".loading");f("#fancybox-loading").remove()},showLoading:function(){var a,d;b.hideLoading();a=f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body");p.bind("keydown.loading",function(a){27===(a.which||a.keyCode)&&(a.preventDefault(),b.cancel())});b.defaults.fixed||(d=b.getViewport(),a.css({position:"absolute",top:0.5*d.h+d.y,left:0.5*d.w+d.x}));b.trigger("onLoading")},getViewport:function(){var a=b.current&&
b.current.locked||!1,d={x:q.scrollLeft(),y:q.scrollTop()};a&&a.length?(d.w=a[0].clientWidth,d.h=a[0].clientHeight):(d.w=t&&s.innerWidth?s.innerWidth:q.width(),d.h=t&&s.innerHeight?s.innerHeight:q.height());return d},unbindEvents:function(){b.wrap&&u(b.wrap)&&b.wrap.unbind(".fb");p.unbind(".fb");q.unbind(".fb")},bindEvents:function(){var a=b.current,d;a&&(q.bind("orientationchange.fb"+(t?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),b.update),(d=a.keys)&&p.bind("keydown.fb",function(e){var c=
e.which||e.keyCode,l=e.target||e.srcElement;if(27===c&&b.coming)return!1;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||l&&(l.type||f(l).is("[contenteditable]"))||f.each(d,function(d,l){if(1<a.group.length&&l[c]!==w)return b[d](l[c]),e.preventDefault(),!1;if(-1<f.inArray(c,l))return b[d](),e.preventDefault(),!1})}),f.fn.mousewheel&&a.mouseWheel&&b.wrap.bind("mousewheel.fb",function(d,c,l,g){for(var h=f(d.target||null),k=!1;h.length&&!(k||h.is(".fancybox-skin")||h.is(".fancybox-wrap"));)k=h[0]&&!(h[0].style.overflow&&
"hidden"===h[0].style.overflow)&&(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=f(h).parent();0!==c&&!k&&1<b.group.length&&!a.canShrink&&(0<g||0<l?b.prev(0<g?"down":"left"):(0>g||0>l)&&b.next(0>g?"up":"right"),d.preventDefault())}))},trigger:function(a,d){var e,c=d||b.coming||b.current;if(c){f.isFunction(c[a])&&(e=c[a].apply(c,Array.prototype.slice.call(arguments,1)));if(!1===e)return!1;c.helpers&&f.each(c.helpers,function(d,e){if(e&&
b.helpers[d]&&f.isFunction(b.helpers[d][a]))b.helpers[d][a](f.extend(!0,{},b.helpers[d].defaults,e),c)})}p.trigger(a)},isImage:function(a){return r(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(a){return r(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var d={},e,c;a=m(a);e=b.group[a]||null;if(!e)return!1;d=f.extend(!0,{},b.opts,e);e=d.margin;c=d.padding;"number"===f.type(e)&&(d.margin=[e,e,e,e]);"number"===f.type(c)&&(d.padding=[c,c,
c,c]);d.modal&&f.extend(!0,d,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});d.autoSize&&(d.autoWidth=d.autoHeight=!0);"auto"===d.width&&(d.autoWidth=!0);"auto"===d.height&&(d.autoHeight=!0);d.group=b.group;d.index=a;b.coming=d;if(!1===b.trigger("beforeLoad"))b.coming=null;else{c=d.type;e=d.href;if(!c)return b.coming=null,b.current&&b.router&&"jumpto"!==b.router?(b.current.index=a,b[b.router](b.direction)):!1;b.isActive=!0;if("image"===
c||"swf"===c)d.autoHeight=d.autoWidth=!1,d.scrolling="visible";"image"===c&&(d.aspectRatio=!0);"iframe"===c&&t&&(d.scrolling="scroll");d.wrap=f(d.tpl.wrap).addClass("fancybox-"+(t?"mobile":"desktop")+" fancybox-type-"+c+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body");f.extend(d,{skin:f(".fancybox-skin",d.wrap),outer:f(".fancybox-outer",d.wrap),inner:f(".fancybox-inner",d.wrap)});f.each(["Top","Right","Bottom","Left"],function(a,b){d.skin.css("padding"+b,x(d.padding[a]))});b.trigger("onReady");
if("inline"===c||"html"===c){if(!d.content||!d.content.length)return b._error("content")}else if(!e)return b._error("href");"image"===c?b._loadImage():"ajax"===c?b._loadAjax():"iframe"===c?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;b.coming.width=
this.width/b.opts.pixelRatio;b.coming.height=this.height/b.opts.pixelRatio;b._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;b._error("image")};a.src=b.coming.href;!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,e){b.coming&&"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(d,e){"success"===e&&(a.content=d,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,
d=f(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",t?"auto":a.iframe.scrolling).attr("src",a.href);f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(b.showLoading(),d.one("load",function(){f(this).data("ready",1);t||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=d.appendTo(a.inner);a.iframe.preload||
b._afterLoad()},_preloadImages:function(){var a=b.group,d=b.current,e=a.length,c=d.preload?Math.min(d.preload,e-1):0,f,g;for(g=1;g<=c;g+=1)f=a[(d.index+g)%e],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var a=b.coming,d=b.current,e,c,l,g,h;b.hideLoading();if(a&&!1!==b.isActive)if(!1===b.trigger("afterLoad",a,d))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{d&&(b.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());
b.unbindEvents();e=a.content;c=a.type;l=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:d});g=a.href;switch(c){case "inline":case "ajax":case "html":a.selector?e=f("<div>").html(e).find(a.selector):u(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",
!1)}));break;case "image":e=a.tpl.image.replace(/\{href\}/g,g);break;case "swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',h="",f.each(a.swf,function(a,b){e+='<param name="'+a+'" value="'+b+'"></param>';h+=" "+a+'="'+b+'"'}),e+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>"}u(e)&&e.parent().is(a.inner)||a.inner.append(e);b.trigger("beforeShow");
a.inner.css("overflow","yes"===l?"scroll":"no"===l?"hidden":l);b._setDimension();b.reposition();b.isOpen=!1;b.coming=null;b.bindEvents();if(!b.isOpened)f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();else if(d.prevMethod)b.transitions[d.prevMethod]();b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}},_setDimension:function(){var a=b.getViewport(),d=0,e=!1,c=!1,e=b.wrap,l=b.skin,g=b.inner,h=b.current,c=h.width,k=h.height,n=h.minWidth,v=h.minHeight,p=h.maxWidth,
q=h.maxHeight,t=h.scrolling,r=h.scrollOutside?h.scrollbarWidth:0,y=h.margin,z=m(y[1]+y[3]),s=m(y[0]+y[2]),w,A,u,D,B,G,C,E,I;e.add(l).add(g).width("auto").height("auto").removeClass("fancybox-tmp");y=m(l.outerWidth(!0)-l.width());w=m(l.outerHeight(!0)-l.height());A=z+y;u=s+w;D=F(c)?(a.w-A)*m(c)/100:c;B=F(k)?(a.h-u)*m(k)/100:k;if("iframe"===h.type){if(I=h.content,h.autoHeight&&1===I.data("ready"))try{I[0].contentWindow.document.location&&(g.width(D).height(9999),G=I.contents().find("body"),r&&G.css("overflow-x",
"hidden"),B=G.outerHeight(!0))}catch(H){}}else if(h.autoWidth||h.autoHeight)g.addClass("fancybox-tmp"),h.autoWidth||g.width(D),h.autoHeight||g.height(B),h.autoWidth&&(D=g.width()),h.autoHeight&&(B=g.height()),g.removeClass("fancybox-tmp");c=m(D);k=m(B);E=D/B;n=m(F(n)?m(n,"w")-A:n);p=m(F(p)?m(p,"w")-A:p);v=m(F(v)?m(v,"h")-u:v);q=m(F(q)?m(q,"h")-u:q);G=p;C=q;h.fitToView&&(p=Math.min(a.w-A,p),q=Math.min(a.h-u,q));A=a.w-z;s=a.h-s;h.aspectRatio?(c>p&&(c=p,k=m(c/E)),k>q&&(k=q,c=m(k*E)),c<n&&(c=n,k=m(c/
E)),k<v&&(k=v,c=m(k*E))):(c=Math.max(n,Math.min(c,p)),h.autoHeight&&"iframe"!==h.type&&(g.width(c),k=g.height()),k=Math.max(v,Math.min(k,q)));if(h.fitToView)if(g.width(c).height(k),e.width(c+y),a=e.width(),z=e.height(),h.aspectRatio)for(;(a>A||z>s)&&c>n&&k>v&&!(19<d++);)k=Math.max(v,Math.min(q,k-10)),c=m(k*E),c<n&&(c=n,k=m(c/E)),c>p&&(c=p,k=m(c/E)),g.width(c).height(k),e.width(c+y),a=e.width(),z=e.height();else c=Math.max(n,Math.min(c,c-(a-A))),k=Math.max(v,Math.min(k,k-(z-s)));r&&"auto"===t&&k<B&&
c+y+r<A&&(c+=r);g.width(c).height(k);e.width(c+y);a=e.width();z=e.height();e=(a>A||z>s)&&c>n&&k>v;c=h.aspectRatio?c<G&&k<C&&c<D&&k<B:(c<G||k<C)&&(c<D||k<B);f.extend(h,{dim:{width:x(a),height:x(z)},origWidth:D,origHeight:B,canShrink:e,canExpand:c,wPadding:y,hPadding:w,wrapSpace:z-l.outerHeight(!0),skinSpace:l.height()-k});!I&&h.autoHeight&&k>v&&k<q&&!c&&g.height("auto")},_getPosition:function(a){var d=b.current,e=b.getViewport(),c=d.margin,f=b.wrap.width()+c[1]+c[3],g=b.wrap.height()+c[0]+c[2],c={position:"absolute",
top:c[0],left:c[3]};d.autoCenter&&d.fixed&&!a&&g<=e.h&&f<=e.w?c.position="fixed":d.locked||(c.top+=e.y,c.left+=e.x);c.top=x(Math.max(c.top,c.top+(e.h-g)*d.topRatio));c.left=x(Math.max(c.left,c.left+(e.w-f)*d.leftRatio));return c},_afterZoomIn:function(){var a=b.current;a&&((b.isOpen=b.isOpened=!0,b.wrap.css("overflow","visible").addClass("fancybox-opened"),b.update(),(a.closeClick||a.nextClick&&1<b.group.length)&&b.inner.css("cursor","pointer").bind("click.fb",function(d){f(d.target).is("a")||f(d.target).parent().is("a")||
(d.preventDefault(),b[a.closeClick?"close":"next"]())}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",function(a){a.preventDefault();b.close()}),a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),a.loop||a.index!==a.group.length-1)?b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play(!0)):b.play(!1))},
_afterZoomOut:function(a){a=a||b.current;f(".fancybox-wrap").trigger("onReset").remove();f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});b.trigger("afterClose",a)}});b.transitions={getOrigPosition:function(){var a=b.current,d=a.element,e=a.orig,c={},f=50,g=50,h=a.hPadding,k=a.wPadding,n=b.getViewport();!e&&a.isDom&&d.is(":visible")&&(e=d.find("img:first"),e.length||(e=d));u(e)?(c=e.offset(),e.is("img")&&
(f=e.outerWidth(),g=e.outerHeight())):(c.top=n.y+(n.h-g)*a.topRatio,c.left=n.x+(n.w-f)*a.leftRatio);if("fixed"===b.wrap.css("position")||a.locked)c.top-=n.y,c.left-=n.x;return c={top:x(c.top-h*a.topRatio),left:x(c.left-k*a.leftRatio),width:x(f+k),height:x(g+h)}},step:function(a,d){var e,c,f=d.prop;c=b.current;var g=c.wrapSpace,h=c.skinSpace;if("width"===f||"height"===f)e=d.end===d.start?1:(a-d.start)/(d.end-d.start),b.isClosing&&(e=1-e),c="width"===f?c.wPadding:c.hPadding,c=a-c,b.skin[f](m("width"===
f?c:c-g*e)),b.inner[f](m("width"===f?c:c-g*e-h*e))},zoomIn:function(){var a=b.current,d=a.pos,e=a.openEffect,c="elastic"===e,l=f.extend({opacity:1},d);delete l.position;c?(d=this.getOrigPosition(),a.openOpacity&&(d.opacity=0.1)):"fade"===e&&(d.opacity=0.1);b.wrap.css(d).animate(l,{duration:"none"===e?0:a.openSpeed,easing:a.openEasing,step:c?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,d=a.closeEffect,e="elastic"===d,c={opacity:0.1};e&&(c=this.getOrigPosition(),a.closeOpacity&&
(c.opacity=0.1));b.wrap.animate(c,{duration:"none"===d?0:a.closeSpeed,easing:a.closeEasing,step:e?this.step:null,complete:b._afterZoomOut})},changeIn:function(){var a=b.current,d=a.nextEffect,e=a.pos,c={opacity:1},f=b.direction,g;e.opacity=0.1;"elastic"===d&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(e[g]=x(m(e[g])-200),c[g]="+=200px"):(e[g]=x(m(e[g])+200),c[g]="-=200px"));"none"===d?b._afterZoomIn():b.wrap.css(e).animate(c,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},
changeOut:function(){var a=b.previous,d=a.prevEffect,e={opacity:0.1},c=b.direction;"elastic"===d&&(e["down"===c||"up"===c?"top":"left"]=("up"===c||"left"===c?"-":"+")+"=200px");a.wrap.animate(e,{duration:"none"===d?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};b.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!t,fixed:!0},overlay:null,fixed:!1,el:f("html"),create:function(a){var d;a=f.extend({},this.defaults,a);this.overlay&&
this.close();d=b.coming?b.coming.parent:a.parent;this.overlay=f('<div class="fancybox-overlay"></div>').appendTo(d&&d.lenth?d:"body");this.fixed=!1;a.fixed&&b.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var d=this;a=f.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(q.bind("resize.overlay",f.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",
function(a){if(f(a.target).hasClass("fancybox-overlay"))return b.isActive?b.close():d.close(),!1});this.overlay.css(a.css).show()},close:function(){q.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(f(".fancybox-margin").removeClass("fancybox-margin"),this.el.removeClass("fancybox-lock"),q.scrollTop(this.scrollV).scrollLeft(this.scrollH));f(".fancybox-overlay").remove().hide();f.extend(this,{overlay:null,fixed:!1})},update:function(){var a="100%",b;this.overlay.width(a).height("100%");
J?(b=Math.max(H.documentElement.offsetWidth,H.body.offsetWidth),p.width()>b&&(a=p.width())):p.width()>q.width()&&(a=p.width());this.overlay.width(a).height(p.height())},onReady:function(a,b){var e=this.overlay;f(".fancybox-overlay").stop(!0,!0);e||this.create(a);a.locked&&this.fixed&&b.fixed&&(b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&f("*").filter(function(){return"fixed"===
f(this).css("position")&&!f(this).hasClass("fancybox-overlay")&&!f(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=q.scrollTop(),this.scrollH=q.scrollLeft(),this.el.addClass("fancybox-lock"),q.scrollTop(this.scrollV).scrollLeft(this.scrollH));this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!b.coming&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}};b.helpers.title={defaults:{type:"float",
position:"bottom"},beforeShow:function(a){var d=b.current,e=d.title,c=a.type;f.isFunction(e)&&(e=e.call(d.element,d));if(r(e)&&""!==f.trim(e)){d=f('<div class="fancybox-title fancybox-title-'+c+'-wrap">'+e+"</div>");switch(c){case "inside":c=b.skin;break;case "outside":c=b.wrap;break;case "over":c=b.inner;break;default:c=b.skin,d.appendTo("body"),J&&d.width(d.width()),d.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(m(d.css("margin-bottom")))}d["top"===a.position?"prependTo":
"appendTo"](c)}}};f.fn.fancybox=function(a){var d,e=f(this),c=this.selector||"",l=function(g){var h=f(this).blur(),k=d,l,m;g.ctrlKey||g.altKey||g.shiftKey||g.metaKey||h.is(".fancybox-wrap")||(l=a.groupAttr||"data-fancybox-group",m=h.attr(l),m||(l="rel",m=h.get(0)[l]),m&&""!==m&&"nofollow"!==m&&(h=c.length?f(c):e,h=h.filter("["+l+'="'+m+'"]'),k=h.index(this)),a.index=k,!1!==b.open(h,a)&&g.preventDefault())};a=a||{};d=a.index||0;c&&!1!==a.live?p.undelegate(c,"click.fb-start").delegate(c+":not('.fancybox-item, .fancybox-nav')",
"click.fb-start",l):e.unbind("click.fb-start").bind("click.fb-start",l);this.filter("[data-fancybox-start=1]").trigger("click");return this};p.ready(function(){var a,d;f.scrollbarWidth===w&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});f.support.fixedPosition===w&&(f.support.fixedPosition=function(){var a=f('<div style="position:fixed;top:20px;"></div>').appendTo("body"),
b=20===a[0].offsetTop||15===a[0].offsetTop;a.remove();return b}());f.extend(b.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")});a=f(s).width();K.addClass("fancybox-lock-test");d=f(s).width();K.removeClass("fancybox-lock-test");f("<style type='text/css'>.fancybox-margin{margin-right:"+(d-a)+"px;}</style>").appendTo("head")})})(window,document,jQuery);;/**/
/*! Copyright (c) 2013 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.1.3
 *
 * Requires: 1.2.2+
 */
;(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):"object"===typeof exports?module.exports=c:c(jQuery)})(function(c){function l(b){var a=b||window.event,h=[].slice.call(arguments,1),d=0,e=0,f=0,g=0,g=0;b=c.event.fix(a);b.type="mousewheel";a.wheelDelta&&(d=a.wheelDelta);a.detail&&(d=-1*a.detail);a.deltaY&&(d=f=-1*a.deltaY);a.deltaX&&(e=a.deltaX,d=-1*e);void 0!==a.wheelDeltaY&&(f=a.wheelDeltaY);void 0!==a.wheelDeltaX&&(e=-1*a.wheelDeltaX);g=Math.abs(d);if(!m||g<m)m=g;g=Math.max(Math.abs(f),
Math.abs(e));if(!k||g<k)k=g;a=0<d?"floor":"ceil";d=Math[a](d/m);e=Math[a](e/k);f=Math[a](f/k);try{b.originalEvent.hasOwnProperty("wheelDelta")}catch(l){f=d}h.unshift(b,d,e,f);return(c.event.dispatch||c.event.handle).apply(this,h)}var n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],m,k;if(c.event.fixHooks)for(var p=n.length;p;)c.event.fixHooks[n[--p]]=c.event.mouseHooks;
c.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=h.length;b;)this.addEventListener(h[--b],l,!1);else this.onmousewheel=l},teardown:function(){if(this.removeEventListener)for(var b=h.length;b;)this.removeEventListener(h[--b],l,!1);else this.onmousewheel=null}};c.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})});;/**/
var Lightvideo;(function(){Lightvideo={startVideo:function(e){Lightvideo.checkKnownVideos(e)||(e.match(/\.mov$/i)?Lightbox.modalHTML=navigator.plugins&&navigator.plugins.length?'<object id="qtboxMovie" type="video/quicktime" codebase="http://www.apple.com/qtactivex/qtplugin.cab" data="'+e+'" width="'+Lightbox.modalWidth+'" height="'+Lightbox.modalHeight+'"><param name="allowFullScreen" value="true"></param><param name="src" value="'+e+'" /><param name="scale" value="aspect" /><param name="controller" value="true" /><param name="autoplay" value="true" /><param name="bgcolor" value="#000000" /><param name="enablejavascript" value="true" /></object>':'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" width="'+Lightbox.modalWidth+'" height="'+Lightbox.modalHeight+'" id="qtboxMovie"><param name="allowFullScreen" value="true"></param><param name="src" value="'+e+'" /><param name="scale" value="aspect" /><param name="controller" value="true" /><param name="autoplay" value="true" /><param name="bgcolor" value="#000000" /><param name="enablejavascript" value="true" /></object>':e.match(/\.wmv$/i)||e.match(/\.asx$/i)?Lightbox.modalHTML='<object NAME="Player" WIDTH="'+Lightbox.modalWidth+'" HEIGHT="'+Lightbox.modalHeight+'" align="left" hspace="0" type="application/x-oleobject" CLASSID="CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6"><param name="allowFullScreen" value="true"></param><param NAME="URL" VALUE="'+e+'"></param><param NAME="AUTOSTART" VALUE="true"></param><param name="showControls" value="true"></param><embed WIDTH="'+Lightbox.modalWidth+'" HEIGHT="'+Lightbox.modalHeight+'" align="left" hspace="0" SRC="'+e+'" TYPE="application/x-oleobject" AUTOSTART="false"></embed></object>':(Lightbox.videoId=e,variables="",e.match(/\.swf$/i)||(e=Lightbox.flvPlayer+"?file="+e,Lightbox.flvFlashvars.length&&(variables=Lightbox.flvFlashvars)),Lightvideo.createEmbed(e,"flvplayer","#ffffff",variables)))},createEmbed:function(e,t,i,n){var s='bgcolor="'+i+'"',o="";n&&(o='flashvars="'+n+'"'),Lightbox.modalHTML='<embed type="application/x-shockwave-flash" src="'+e+'" '+'id="'+t+'" name="'+t+'" '+s+" "+'quality="high" wmode="transparent" '+o+" "+'height="'+Lightbox.modalHeight+'" '+'width="'+Lightbox.modalWidth+'" '+'allowfullscreen="true" '+"></embed>"},checkKnownVideos:function(e){return Lightvideo.checkYouTubeVideo(e)||Lightvideo.checkGoogleVideo(e)||Lightvideo.checkMySpaceVideo(e)||Lightvideo.checkLiveVideo(e)||Lightvideo.checkMetacafeVideo(e)||Lightvideo.checkIFilmSpikeVideo(e)?!0:!1},checkYouTubeVideo:function(e){for(var t=['youtube.com/v/([^"&]+)','youtube.com/watch\\?v=([^"&]+)','youtube.com/\\?v=([^"&]+)'],i=0;t.length>i;i++){var n=RegExp(t[i],"i"),s=n.exec(e);if(null!==s){Lightbox.videoId=s[1];var e="http://www.youtube.com/v/"+Lightbox.videoId,o="fs=1";return Lightbox.flvFlashvars.length&&(o=o+"&"+Lightbox.flvFlashvars,e=e+"&"+o),Lightvideo.createEmbed(e,"flvvideo","#ffffff",o),!0}}return!1},checkGoogleVideo:function(e){for(var t=["http://video.google.[a-z]{2,4}/googleplayer.swf\\?docId=(-?\\d*)","http://video.google.[a-z]{2,4}/videoplay\\?docid=([^&]*)&","http://video.google.[a-z]{2,4}/videoplay\\?docid=(.*)"],i=0;t.length>i;i++){var n=RegExp(t[i],"i"),s=n.exec(e);if(null!==s){Lightbox.videoId=s[1];var e="http://video.google.com/googleplayer.swf?docId="+Lightbox.videoId+"&hl=en",o="fs=true";return Lightbox.flvFlashvars.length&&(o=o+"&"+Lightbox.flvFlashvars,e=e+"&"+o),Lightvideo.createEmbed(e,"flvvideo","#ffffff",o),!0}}return!1},checkMetacafeVideo:function(e){for(var t=["metacafe.com/watch/(.[^/]*)/(.[^/]*)/","metacafe.com/watch/(.[^/]*)/(.*)","metacafe.com/fplayer/(.[^/]*)/(.[^.]*)."],i=0;t.length>i;i++){var n=RegExp(t[i],"i"),s=n.exec(e);if(null!==s)return Lightbox.videoId=s[1],Lightvideo.createEmbed("http://www.metacafe.com/fplayer/"+Lightbox.videoId+"/.swf","flvvideo","#ffffff"),!0}return!1},checkIFilmSpikeVideo:function(e){for(var t=['spike.com/video/[^/&"]*?/(\\d+)','ifilm.com/video/[^/&"]*?/(\\d+)','spike.com/video/([^/&"]*)','ifilm.com/video/([^/&"]*)'],i=0;t.length>i;i++){var n=RegExp(t[i],"i"),s=n.exec(e);if(null!==s)return Lightbox.videoId=s[1],Lightvideo.createEmbed("http://www.spike.com/efp","flvvideo","#000","flvbaseclip="+Lightbox.videoId+"&amp;"),!0}return!1},checkMySpaceVideo:function(e){for(var t=['src="myspace.com/index.cfm\\?fuseaction=vids.individual&videoid=([^&"]+)','myspace.com/index.cfm\\?fuseaction=vids.individual&videoid=([^&"]+)','src="myspacetv.com/index.cfm\\?fuseaction=vids.individual&videoid=([^&"]+)"','myspacetv.com/index.cfm\\?fuseaction=vids.individual&videoid=([^&"]+)'],i=0;t.length>i;i++){var n=RegExp(t[i],"i"),s=n.exec(e);if(null!==s)return Lightbox.videoId=s[1],Lightvideo.createEmbed("http://lads.myspace.com/videos/vplayer.swf","flvvideo","#ffffff","m="+Lightbox.videoId),!0}return!1},checkLiveVideo:function(e){for(var t=['livevideo.com/flvplayer/embed/([^"]*)"',"livevideo.com/video/[^/]*?/([^/]*)/","livevideo.com/video/([^/]*)/"],i=0;t.length>i;i++){var n=RegExp(t[i],"i"),s=n.exec(e);if(null!==s)return Lightbox.videoId=s[1],Lightvideo.createEmbed("http://www.livevideo.com/flvplayer/embed/"+Lightbox.videoId,"flvvideo","#ffffff"),!0}return!1}}})(jQuery);;/**/
/**
 * jQuery Lightbox
 * @author
 *   Stella Power, <http://drupal.org/user/66894>
 *
 * Based on Lightbox v2.03.3 by Lokesh Dhakar
 * <http://www.huddletogether.com/projects/lightbox2/>
 * Also partially based on the jQuery Lightbox by Warren Krewenki
 *   <http://warren.mesozen.com>
 *
 * Permission has been granted to Mark Ashmead & other Drupal Lightbox2 module
 * maintainers to distribute this file via Drupal.org
 * Under GPL license.
 *
 * Slideshow, iframe and video functionality added by Stella Power.
 */
var Lightbox;!function(e){Lightbox={auto_modal:!1,overlayOpacity:.8,overlayColor:"000",disableCloseClick:!0,resizeSequence:0,resizeSpeed:"normal",fadeInSpeed:"normal",slideDownSpeed:"slow",minWidth:240,borderSize:10,boxColor:"fff",fontColor:"000",topPosition:"",infoHeight:20,alternative_layout:!1,imageArray:[],imageNum:null,total:0,activeImage:null,inprogress:!1,disableResize:!1,disableZoom:!1,isZoomedIn:!1,rtl:!1,loopItems:!1,keysClose:["c","x",27],keysPrevious:["p",37],keysNext:["n",39],keysZoom:["z"],keysPlayPause:[32],slideInterval:5e3,showPlayPause:!0,autoStart:!0,autoExit:!0,pauseOnNextClick:!1,pauseOnPrevClick:!0,slideIdArray:[],slideIdCount:0,isSlideshow:!1,isPaused:!1,loopSlides:!1,isLightframe:!1,iframe_width:600,iframe_height:400,iframe_border:1,enableVideo:!1,flvPlayer:"/flvplayer.swf",flvFlashvars:"",isModal:!1,isVideo:!1,videoId:!1,modalWidth:400,modalHeight:400,modalHTML:null,initialize:function(){var i=Drupal.settings.lightbox2;Lightbox.overlayOpacity=i.overlay_opacity,Lightbox.overlayColor=i.overlay_color,Lightbox.disableCloseClick=i.disable_close_click,Lightbox.resizeSequence=i.resize_sequence,Lightbox.resizeSpeed=i.resize_speed,Lightbox.fadeInSpeed=i.fade_in_speed,Lightbox.slideDownSpeed=i.slide_down_speed,Lightbox.borderSize=i.border_size,Lightbox.boxColor=i.box_color,Lightbox.fontColor=i.font_color,Lightbox.topPosition=i.top_position,Lightbox.rtl=i.rtl,Lightbox.loopItems=i.loop_items,Lightbox.keysClose=i.keys_close.split(" "),Lightbox.keysPrevious=i.keys_previous.split(" "),Lightbox.keysNext=i.keys_next.split(" "),Lightbox.keysZoom=i.keys_zoom.split(" "),Lightbox.keysPlayPause=i.keys_play_pause.split(" "),Lightbox.disableResize=i.disable_resize,Lightbox.disableZoom=i.disable_zoom,Lightbox.slideInterval=i.slideshow_interval,Lightbox.showPlayPause=i.show_play_pause,Lightbox.showCaption=i.show_caption,Lightbox.autoStart=i.slideshow_automatic_start,Lightbox.autoExit=i.slideshow_automatic_exit,Lightbox.pauseOnNextClick=i.pause_on_next_click,Lightbox.pauseOnPrevClick=i.pause_on_previous_click,Lightbox.loopSlides=i.loop_slides,Lightbox.alternative_layout=i.use_alt_layout,Lightbox.iframe_width=i.iframe_width,Lightbox.iframe_height=i.iframe_height,Lightbox.iframe_border=i.iframe_border,Lightbox.enableVideo=i.enable_video,i.enable_video&&(Lightbox.flvPlayer=i.flvPlayer,Lightbox.flvFlashvars=i.flvFlashvars);var t=i.use_alt_layout?"lightbox2-alt-layout":"lightbox2-orig-layout",o='<div id="lightbox2-overlay" style="display: none;"></div>      <div id="lightbox" style="display: none;" class="'+t+'">        <div id="outerImageContainer"></div>        <div id="imageDataContainer" class="clearfix">          <div id="imageData"></div>        </div>      </div>',a='<div id="loading"><a href="#" id="loadingLink"></a></div>',h='<div id="modalContainer" style="display: none;"></div>',l='<div id="frameContainer" style="display: none;"></div>',g='<div id="imageContainer" style="display: none;"></div>',r='<div id="imageDetails"></div>',s='<div id="bottomNav"></div>',n='<img id="lightboxImage" alt="" />',d='<div id="hoverNav"><a id="prevLink" href="#"></a><a id="nextLink" href="#"></a></div>',b='<div id="frameHoverNav"><a id="framePrevLink" href="#"></a><a id="frameNextLink" href="#"></a></div>',d='<div id="hoverNav"><a id="prevLink" title="'+Drupal.t("Previous")+'" href="#"></a><a id="nextLink" title="'+Drupal.t("Next")+'" href="#"></a></div>',b='<div id="frameHoverNav"><a id="framePrevLink" title="'+Drupal.t("Previous")+'" href="#"></a><a id="frameNextLink" title="'+Drupal.t("Next")+'" href="#"></a></div>',x='<span id="caption"></span>',c='<span id="numberDisplay"></span>',m='<a id="bottomNavClose" title="'+Drupal.t("Close")+'" href="#"></a>',L='<a id="bottomNavZoom" href="#"></a>',u='<a id="bottomNavZoomOut" href="#"></a>',f='<a id="lightshowPause" title="'+Drupal.t("Pause Slideshow")+'" href="#" style="display: none;"></a>',v='<a id="lightshowPlay" title="'+Drupal.t("Play Slideshow")+'" href="#" style="display: none;"></a>';e("body").append(o),e("#outerImageContainer").append(h+l+g+a),i.use_alt_layout?(e("#outerImageContainer").append(s),e("#imageContainer").append(n),e("#bottomNav").append(m+L+u),e("#imageData").append(d+r),e("#imageDetails").append(x+c+f+v)):(e("#imageContainer").append(n+d),e("#imageData").append(r+s),e("#imageDetails").append(x+c),e("#bottomNav").append(b+m+L+u+f+v)),Lightbox.disableCloseClick&&e("#lightbox2-overlay").click(function(){return Lightbox.end(),!1}).hide(),e("#loadingLink, #bottomNavClose").click(function(){return Lightbox.end("forceClose"),!1}),e("#prevLink, #framePrevLink").click(function(){return Lightbox.changeData(Lightbox.activeImage-1),!1}),e("#nextLink, #frameNextLink").click(function(){return Lightbox.changeData(Lightbox.activeImage+1),!1}),e("#bottomNavZoom").click(function(){return Lightbox.changeData(Lightbox.activeImage,!0),!1}),e("#bottomNavZoomOut").click(function(){return Lightbox.changeData(Lightbox.activeImage,!1),!1}),e("#lightshowPause").click(function(){return Lightbox.togglePlayPause("lightshowPause","lightshowPlay"),!1}),e("#lightshowPlay").click(function(){return Lightbox.togglePlayPause("lightshowPlay","lightshowPause"),!1}),e("#prevLink, #nextLink, #framePrevLink, #frameNextLink").css({paddingTop:Lightbox.borderSize+"px"}),e("#imageContainer, #frameContainer, #modalContainer").css({padding:Lightbox.borderSize+"px"}),e("#outerImageContainer, #imageDataContainer, #bottomNavClose").css({backgroundColor:"#"+Lightbox.boxColor,color:"#"+Lightbox.fontColor}),Lightbox.alternative_layout?e("#bottomNavZoom, #bottomNavZoomOut").css({bottom:Lightbox.borderSize+"px",right:Lightbox.borderSize+"px"}):1==Lightbox.rtl&&e.browser.msie&&e("#bottomNavZoom, #bottomNavZoomOut").css({left:"0px"}),i.force_show_nav&&e("#prevLink, #nextLink").addClass("force_show_nav")},initList:function(i){(void 0==i||null==i)&&(i=document),e("a[rel^='lightbox']:not(.lightbox-processed), area[rel^='lightbox']:not(.lightbox-processed)",i).addClass("lightbox-processed").click(function(i){return Lightbox.disableCloseClick&&(e("#lightbox").unbind("click"),e("#lightbox").click(function(){Lightbox.end("forceClose")})),Lightbox.start(this,!1,!1,!1,!1),i.preventDefault&&i.preventDefault(),!1}),e("a[rel^='lightshow']:not(.lightbox-processed), area[rel^='lightshow']:not(.lightbox-processed)",i).addClass("lightbox-processed").click(function(i){return Lightbox.disableCloseClick&&(e("#lightbox").unbind("click"),e("#lightbox").click(function(){Lightbox.end("forceClose")})),Lightbox.start(this,!0,!1,!1,!1),i.preventDefault&&i.preventDefault(),!1}),e("a[rel^='lightframe']:not(.lightbox-processed), area[rel^='lightframe']:not(.lightbox-processed)",i).addClass("lightbox-processed").click(function(i){return Lightbox.disableCloseClick&&(e("#lightbox").unbind("click"),e("#lightbox").click(function(){Lightbox.end("forceClose")})),Lightbox.start(this,!1,!0,!1,!1),i.preventDefault&&i.preventDefault(),!1}),Lightbox.enableVideo&&e("a[rel^='lightvideo']:not(.lightbox-processed), area[rel^='lightvideo']:not(.lightbox-processed)",i).addClass("lightbox-processed").click(function(i){return Lightbox.disableCloseClick&&(e("#lightbox").unbind("click"),e("#lightbox").click(function(){Lightbox.end("forceClose")})),Lightbox.start(this,!1,!1,!0,!1),i.preventDefault&&i.preventDefault(),!1}),e("a[rel^='lightmodal']:not(.lightbox-processed), area[rel^='lightmodal']:not(.lightbox-processed)",i).addClass("lightbox-processed").click(function(i){return e("#lightbox").unbind("click"),e("#lightbox").addClass(e(this).attr("class")),e("#lightbox").removeClass("lightbox-processed"),Lightbox.start(this,!1,!1,!1,!0),i.preventDefault&&i.preventDefault(),!1}),e("#lightboxAutoModal:not(.lightbox-processed)",i).addClass("lightbox-processed").click(function(i){return Lightbox.auto_modal=!0,e("#lightbox").unbind("click"),Lightbox.start(this,!1,!1,!1,!0),i.preventDefault&&i.preventDefault(),!1})},start:function(i,t,o,a,h){Lightbox.isPaused=!Lightbox.autoStart,Lightbox.toggleSelectsFlash("hide");var l=Lightbox.getPageSize();e("#lightbox2-overlay").hide().css({width:"100%",zIndex:"10090",height:l[1]+"px",backgroundColor:"#"+Lightbox.overlayColor}),a&&this.detectMacFF2()?(e("#lightbox2-overlay").removeClass("overlay_default"),e("#lightbox2-overlay").addClass("overlay_macff2"),e("#lightbox2-overlay").css({opacity:null})):(e("#lightbox2-overlay").removeClass("overlay_macff2"),e("#lightbox2-overlay").addClass("overlay_default"),e("#lightbox2-overlay").css({opacity:Lightbox.overlayOpacity})),e("#lightbox2-overlay").fadeIn(Lightbox.fadeInSpeed),Lightbox.isSlideshow=t,Lightbox.isLightframe=o,Lightbox.isVideo=a,Lightbox.isModal=h,Lightbox.imageArray=[],Lightbox.imageNum=0;var g=e(i.tagName),r=null,s=Lightbox.parseRel(i),n=s.rel,d=s.group,b=s.title?s.title:i.title,x=null,c=0;s.flashvars&&(Lightbox.flvFlashvars=Lightbox.flvFlashvars+"&"+s.flashvars);var m=i.title;if(!m){var L=e(i).find("img");m=L&&e(L).attr("alt")?e(L).attr("alt"):b}if("lightboxAutoModal"==e(i).attr("id"))x=s.style,Lightbox.imageArray.push(["#lightboxAutoModal > *",b,m,x,1]);else if("lightbox"!=n&&"lightshow"!=n||d)if(d){for(c=0;c<g.length;c++)if(r=g[c],r.href&&"string"==typeof r.href&&e(r).attr("rel")){var u=Lightbox.parseRel(r),f=u.title?u.title:r.title;if(img_alt=r.title,!img_alt){var v=e(r).find("img");img_alt=v&&e(v).attr("alt")?e(v).attr("alt"):b}u.rel==n&&u.group==d&&((Lightbox.isLightframe||Lightbox.isModal||Lightbox.isVideo)&&(x=u.style),Lightbox.imageArray.push([r.href,f,img_alt,x]))}for(c=0;c<Lightbox.imageArray.length;c++)for(j=Lightbox.imageArray.length-1;j>c;j--)Lightbox.imageArray[c][0]==Lightbox.imageArray[j][0]&&Lightbox.imageArray.splice(j,1);for(;Lightbox.imageArray[Lightbox.imageNum][0]!=i.href;)Lightbox.imageNum++}else x=s.style,Lightbox.imageArray.push([i.href,b,m,x]);else Lightbox.imageArray.push([i.href,b,m]);Lightbox.isSlideshow&&Lightbox.showPlayPause&&Lightbox.isPaused&&(e("#lightshowPlay").show(),e("#lightshowPause").hide());var p=Lightbox.getPageScroll(),y=p[1]+1*(""==Lightbox.topPosition?l[3]/10:Lightbox.topPosition),w=p[0];e("#frameContainer, #modalContainer, #lightboxImage").hide(),e("#hoverNav, #prevLink, #nextLink, #frameHoverNav, #framePrevLink, #frameNextLink").hide(),e("#imageDataContainer, #numberDisplay, #bottomNavZoom, #bottomNavZoomOut").hide(),e("#outerImageContainer").css({width:"250px",height:"250px"}),e("#lightbox").css({zIndex:"10500",top:y+"px",left:w+"px"}).show(),Lightbox.total=Lightbox.imageArray.length,Lightbox.changeData(Lightbox.imageNum)},changeData:function(i,t){if(Lightbox.inprogress===!1){if(Lightbox.total>1&&(Lightbox.isSlideshow&&Lightbox.loopSlides||!Lightbox.isSlideshow&&Lightbox.loopItems)&&(i>=Lightbox.total&&(i=0),0>i&&(i=Lightbox.total-1)),Lightbox.isSlideshow)for(var o=0;o<Lightbox.slideIdCount;o++)window.clearTimeout(Lightbox.slideIdArray[o]);if(Lightbox.inprogress=!0,Lightbox.activeImage=i,Lightbox.disableResize&&!Lightbox.isSlideshow&&(t=!0),Lightbox.isZoomedIn=t,e("#loading").css({zIndex:"10500"}).show(),Lightbox.alternative_layout||e("#imageContainer").hide(),e("#frameContainer, #modalContainer, #lightboxImage").hide(),e("#hoverNav, #prevLink, #nextLink, #frameHoverNav, #framePrevLink, #frameNextLink").hide(),e("#imageDataContainer, #numberDisplay, #bottomNavZoom, #bottomNavZoomOut").hide(),Lightbox.isLightframe||Lightbox.isVideo||Lightbox.isModal){if(Lightbox.isLightframe){e("#lightbox #imageDataContainer").addClass("lightbox2-alt-layout-data");var a=Lightbox.imageArray[Lightbox.activeImage][0];e("#frameContainer").html('<iframe id="lightboxFrame" style="display: none;" src="'+a+'"></iframe>'),e.browser.mozilla&&-1!=a.indexOf(".swf")&&setTimeout(function(){document.getElementById("lightboxFrame").src=Lightbox.imageArray[Lightbox.activeImage][0]},1e3),Lightbox.iframe_border||(e("#lightboxFrame").css({border:"none"}),e("#lightboxFrame").attr("frameborder","0"));var h=document.getElementById("lightboxFrame"),l=Lightbox.imageArray[Lightbox.activeImage][3];h=Lightbox.setStyles(h,l),Lightbox.resizeContainer(parseInt(h.width,10),parseInt(h.height,10))}else if(Lightbox.isVideo||Lightbox.isModal){e("#lightbox #imageDataContainer").addClass("lightbox2-alt-layout-data");var g=document.getElementById("modalContainer"),r=Lightbox.imageArray[Lightbox.activeImage][3];g=Lightbox.setStyles(g,r),Lightbox.isVideo&&(Lightbox.modalHeight=parseInt(g.height,10)-10,Lightbox.modalWidth=parseInt(g.width,10)-10,Lightvideo.startVideo(Lightbox.imageArray[Lightbox.activeImage][0])),Lightbox.resizeContainer(parseInt(g.width,10),parseInt(g.height,10))}}else e("#lightbox #imageDataContainer").removeClass("lightbox2-alt-layout-data"),imgPreloader=new Image,imgPreloader.onerror=function(){Lightbox.imgNodeLoadingError(this)},imgPreloader.onload=function(){var i=document.getElementById("lightboxImage");i.src=Lightbox.imageArray[Lightbox.activeImage][0],i.alt=Lightbox.imageArray[Lightbox.activeImage][2];var o=imgPreloader.width,a=imgPreloader.height,h=Lightbox.getPageSize(),l={w:h[2]-2*Lightbox.borderSize,h:h[3]-6*Lightbox.borderSize-4*Lightbox.infoHeight-h[3]/10},g={w:imgPreloader.width,h:imgPreloader.height};if(t!==!0){var r=1;e("#bottomNavZoomOut, #bottomNavZoom").hide(),(g.w>=l.w||g.h>=l.h)&&g.h&&g.w&&(r=l.w/g.w<l.h/g.h?l.w/g.w:l.h/g.h,Lightbox.disableZoom||Lightbox.isSlideshow||e("#bottomNavZoom").css({zIndex:"10500"}).show()),o=Math.floor(g.w*r),a=Math.floor(g.h*r)}else e("#bottomNavZoom").hide(),(g.w>=l.w||g.h>=l.h)&&g.h&&g.w&&(Lightbox.disableResize||Lightbox.isSlideshow!==!1||Lightbox.disableZoom||e("#bottomNavZoomOut").css({zIndex:"10500"}).show());i.style.width=o+"px",i.style.height=a+"px",Lightbox.resizeContainer(o,a),imgPreloader.onload=function(){}},imgPreloader.src=Lightbox.imageArray[Lightbox.activeImage][0],imgPreloader.alt=Lightbox.imageArray[Lightbox.activeImage][2]}},imgNodeLoadingError:function(e){var i=Drupal.settings.lightbox2,t=Lightbox.imageArray[Lightbox.activeImage][0];""!==i.display_image_size&&(t=t.replace(new RegExp("."+i.display_image_size),"")),Lightbox.imageArray[Lightbox.activeImage][0]=t,e.onerror=function(){Lightbox.imgLoadingError(e)},e.src=t},imgLoadingError:function(e){var i=Drupal.settings.lightbox2;Lightbox.imageArray[Lightbox.activeImage][0]=i.default_image,e.src=i.default_image},resizeContainer:function(i,t){i=i<Lightbox.minWidth?Lightbox.minWidth:i,this.widthCurrent=e("#outerImageContainer").width(),this.heightCurrent=e("#outerImageContainer").height();var o=i+2*Lightbox.borderSize,a=t+2*Lightbox.borderSize;if(this.xScale=o/this.widthCurrent*100,this.yScale=a/this.heightCurrent*100,wDiff=this.widthCurrent-o,hDiff=this.heightCurrent-a,e("#modalContainer").css({width:i,height:t}),Lightbox.resizeSequence){var h={width:o},l={height:a};2==Lightbox.resizeSequence&&(h={height:a},l={width:o}),e("#outerImageContainer").animate(h,Lightbox.resizeSpeed).animate(l,Lightbox.resizeSpeed,"linear",function(){Lightbox.showData()})}else e("#outerImageContainer").animate({width:o,height:a},Lightbox.resizeSpeed,"linear",function(){Lightbox.showData()});0===hDiff&&0===wDiff&&Lightbox.pause(e.browser.msie?250:100);var g=Drupal.settings.lightbox2;g.use_alt_layout||e("#prevLink, #nextLink").css({height:t+"px"}),e("#imageDataContainer").css({width:o+"px"})},showData:function(){if(e("#loading").hide(),Lightbox.isLightframe||Lightbox.isVideo||Lightbox.isModal)if(Lightbox.updateDetails(),Lightbox.isLightframe)e("#frameContainer").show(),e.browser.safari||0===Lightbox.fadeInSpeed?e("#lightboxFrame").css({zIndex:"10500"}).show():e("#lightboxFrame").css({zIndex:"10500"}).fadeIn(Lightbox.fadeInSpeed);else if(Lightbox.isVideo)e("#modalContainer").html(Lightbox.modalHTML).click(function(){return!1}).css("zIndex","10500").show();else{var i=unescape(Lightbox.imageArray[Lightbox.activeImage][0]);Lightbox.imageArray[Lightbox.activeImage][4]?(e(i).appendTo("#modalContainer"),e("#modalContainer").css({zIndex:"10500"}).show()):e("#modalContainer").hide().load(i,function(){e("#modalContainer").css({zIndex:"10500"}).show()}),e("#modalContainer").unbind("click")}else e("#imageContainer").show(),e.browser.safari||0===Lightbox.fadeInSpeed?e("#lightboxImage").css({zIndex:"10500"}).show():e("#lightboxImage").css({zIndex:"10500"}).fadeIn(Lightbox.fadeInSpeed),Lightbox.updateDetails(),this.preloadNeighborImages();Lightbox.inprogress=!1,Lightbox.isSlideshow&&(Lightbox.loopSlides||Lightbox.activeImage!=Lightbox.total-1?!Lightbox.isPaused&&Lightbox.total>1&&(Lightbox.slideIdArray[Lightbox.slideIdCount++]=setTimeout(function(){Lightbox.changeData(Lightbox.activeImage+1)},Lightbox.slideInterval)):Lightbox.autoExit&&(Lightbox.slideIdArray[Lightbox.slideIdCount++]=setTimeout(function(){Lightbox.end("slideshow")},Lightbox.slideInterval)),Lightbox.showPlayPause&&Lightbox.total>1&&!Lightbox.isPaused?(e("#lightshowPause").show(),e("#lightshowPlay").hide()):Lightbox.showPlayPause&&Lightbox.total>1&&(e("#lightshowPause").hide(),e("#lightshowPlay").show()));var t=Lightbox.getPageSize(),o=Lightbox.getPageScroll(),a=t[1];if(Lightbox.isZoomedIn&&t[1]>t[3]){var h=1*(""==Lightbox.topPosition?t[3]/10:Lightbox.topPosition);a=a+o[1]+h}e("#lightbox2-overlay").css({height:a+"px",width:t[0]+"px"}),e.browser.mozilla&&-1!=Lightbox.imageArray[Lightbox.activeImage][0].indexOf(".pdf")&&setTimeout(function(){document.getElementById("lightboxFrame").src=Lightbox.imageArray[Lightbox.activeImage][0]},1e3)},updateDetails:function(){e("#imageDataContainer").hide();var i=Drupal.settings.lightbox2;if(i.show_caption){var t=Lightbox.filterXSS(Lightbox.imageArray[Lightbox.activeImage][1]);t||(t=""),e("#caption").html(t).css({zIndex:"10500"}).show()}var o=null;if(i.image_count&&Lightbox.total>1){var a=Lightbox.activeImage+1;o=Lightbox.isLightframe||Lightbox.isModal||Lightbox.isVideo?Lightbox.isVideo?i.video_count.replace(/\!current/,a).replace(/\!total/,Lightbox.total):i.page_count.replace(/\!current/,a).replace(/\!total/,Lightbox.total):i.image_count.replace(/\!current/,a).replace(/\!total/,Lightbox.total),e("#numberDisplay").html(o).css({zIndex:"10500"}).show()}else e("#numberDisplay").hide();e("#imageDataContainer").hide().slideDown(Lightbox.slideDownSpeed,function(){e("#bottomNav").show()}),1==Lightbox.rtl&&e("#bottomNav").css({"float":"left"}),Lightbox.updateNav()},updateNav:function(){e("#hoverNav").css({zIndex:"10500"}).show();var i="#prevLink",t="#nextLink";Lightbox.isSlideshow?(Lightbox.total>1&&Lightbox.loopSlides||0!==Lightbox.activeImage?e(i).css({zIndex:"10500"}).show().click(function(){return Lightbox.pauseOnPrevClick&&Lightbox.togglePlayPause("lightshowPause","lightshowPlay"),Lightbox.changeData(Lightbox.activeImage-1),!1}):e(i).hide(),Lightbox.total>1&&Lightbox.loopSlides||Lightbox.activeImage!=Lightbox.total-1?e(t).css({zIndex:"10500"}).show().click(function(){return Lightbox.pauseOnNextClick&&Lightbox.togglePlayPause("lightshowPause","lightshowPlay"),Lightbox.changeData(Lightbox.activeImage+1),!1}):e(t).hide()):((Lightbox.isLightframe||Lightbox.isModal||Lightbox.isVideo)&&!Lightbox.alternative_layout&&(e("#frameHoverNav").css({zIndex:"10500"}).show(),e("#hoverNav").css({zIndex:"10500"}).hide(),i="#framePrevLink",t="#frameNextLink"),Lightbox.total>1&&Lightbox.loopItems||0!==Lightbox.activeImage?e(i).css({zIndex:"10500"}).show().unbind().click(function(){return Lightbox.changeData(Lightbox.activeImage-1),!1}):e(i).hide(),Lightbox.total>1&&Lightbox.loopItems||Lightbox.activeImage!=Lightbox.total-1?e(t).css({zIndex:"10500"}).show().unbind().click(function(){return Lightbox.changeData(Lightbox.activeImage+1),!1}):e(t).hide()),Lightbox.isModal||this.enableKeyboardNav()},enableKeyboardNav:function(){e(document).bind("keydown",this.keyboardAction)},disableKeyboardNav:function(){e(document).unbind("keydown",this.keyboardAction)},keyboardAction:function(e){if(null===e?(keycode=event.keyCode,escapeKey=27):(keycode=e.keyCode,escapeKey=e.DOM_VK_ESCAPE),key=String.fromCharCode(keycode).toLowerCase(),Lightbox.checkKey(Lightbox.keysClose,key,keycode))Lightbox.end("forceClose");else if(Lightbox.checkKey(Lightbox.keysPrevious,key,keycode))(Lightbox.total>1&&(Lightbox.isSlideshow&&Lightbox.loopSlides||!Lightbox.isSlideshow&&Lightbox.loopItems)||0!==Lightbox.activeImage)&&Lightbox.changeData(Lightbox.activeImage-1);else if(Lightbox.checkKey(Lightbox.keysNext,key,keycode))(Lightbox.total>1&&(Lightbox.isSlideshow&&Lightbox.loopSlides||!Lightbox.isSlideshow&&Lightbox.loopItems)||Lightbox.activeImage!=Lightbox.total-1)&&Lightbox.changeData(Lightbox.activeImage+1);else{if(!(!Lightbox.checkKey(Lightbox.keysZoom,key,keycode)||Lightbox.disableResize||Lightbox.disableZoom||Lightbox.isSlideshow||Lightbox.isLightframe))return Lightbox.isZoomedIn?Lightbox.changeData(Lightbox.activeImage,!1):Lightbox.isZoomedIn||Lightbox.changeData(Lightbox.activeImage,!0),!1;if(Lightbox.checkKey(Lightbox.keysPlayPause,key,keycode)&&Lightbox.isSlideshow)return Lightbox.isPaused?Lightbox.togglePlayPause("lightshowPlay","lightshowPause"):Lightbox.togglePlayPause("lightshowPause","lightshowPlay"),!1}},preloadNeighborImages:function(){Lightbox.total-1>Lightbox.activeImage&&(preloadNextImage=new Image,preloadNextImage.src=Lightbox.imageArray[Lightbox.activeImage+1][0]),Lightbox.activeImage>0&&(preloadPrevImage=new Image,preloadPrevImage.src=Lightbox.imageArray[Lightbox.activeImage-1][0])},end:function(i){var t="slideshow"==i?!1:!0;if(!(Lightbox.isSlideshow&&Lightbox.isPaused&&!t||Lightbox.inprogress===!0&&"forceClose"!=i))if(Lightbox.disableKeyboardNav(),e("#lightbox").hide(),e("#lightbox2-overlay").fadeOut(),Lightbox.isPaused=!0,Lightbox.inprogress=!1,Lightbox.imageArray=[],Lightbox.imageNum=0,Lightbox.toggleSelectsFlash("visible"),Lightbox.isSlideshow){for(var o=0;o<Lightbox.slideIdCount;o++)window.clearTimeout(Lightbox.slideIdArray[o]);e("#lightshowPause, #lightshowPlay").hide()}else Lightbox.isLightframe?e("#frameContainer").empty().hide():(Lightbox.isVideo||Lightbox.isModal)&&(Lightbox.auto_modal||e("#modalContainer").hide().html(""),Lightbox.auto_modal=!1)},getPageScroll:function(){var e,i;return self.pageYOffset||self.pageXOffset?(i=self.pageYOffset,e=self.pageXOffset):document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)?(i=document.documentElement.scrollTop,e=document.documentElement.scrollLeft):document.body&&(i=document.body.scrollTop,e=document.body.scrollLeft),arrayPageScroll=[e,i]},getPageSize:function(){var e,i;window.innerHeight&&window.scrollMaxY?(e=window.innerWidth+window.scrollMaxX,i=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(e=document.body.scrollWidth,i=document.body.scrollHeight):(e=document.body.offsetWidth,i=document.body.offsetHeight);var t,o;return self.innerHeight?(t=document.documentElement.clientWidth?document.documentElement.clientWidth:self.innerWidth,o=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(t=document.documentElement.clientWidth,o=document.documentElement.clientHeight):document.body&&(t=document.body.clientWidth,o=document.body.clientHeight),pageHeight=o>i?o:i,pageWidth=t>e?e:t,arrayPageSize=new Array(pageWidth,pageHeight,t,o)},pause:function(e){var i=new Date,t=null;do t=new Date;while(e>t-i)},toggleSelectsFlash:function(i){"visible"==i?e("select.lightbox_hidden, embed.lightbox_hidden, object.lightbox_hidden").show():"hide"==i&&(e("select:visible, embed:visible, object:visible").not("#lightboxAutoModal select, #lightboxAutoModal embed, #lightboxAutoModal object").addClass("lightbox_hidden"),e("select.lightbox_hidden, embed.lightbox_hidden, object.lightbox_hidden").hide())},parseRel:function(i){var t=[];if(t.rel=t.title=t.group=t.style=t.flashvars=null,!e(i).attr("rel"))return t;if(t.rel=e(i).attr("rel").match(/\w+/)[0],e(i).attr("rel").match(/\[(.*)\]/)){var o=e(i).attr("rel").match(/\[(.*?)\]/)[1].split("|");t.group=o[0],t.style=o[1],void 0!=t.style&&t.style.match(/flashvars:\s?(.*?);/)&&(t.flashvars=t.style.match(/flashvars:\s?(.*?);/)[1])}return e(i).attr("rel").match(/\[.*\]\[(.*)\]/)&&(t.title=e(i).attr("rel").match(/\[.*\]\[(.*)\]/)[1]),t},setStyles:function(e,i){if(e.width=Lightbox.iframe_width,e.height=Lightbox.iframe_height,e.scrolling="auto",!i)return e;for(var t=i.split(";"),o=0;o<t.length;o++)if(t[o].indexOf("width:")>=0){var a=t[o].replace("width:","");e.width=jQuery.trim(a)}else if(t[o].indexOf("height:")>=0){var h=t[o].replace("height:","");e.height=jQuery.trim(h)}else if(t[o].indexOf("scrolling:")>=0){var l=t[o].replace("scrolling:","");e.scrolling=jQuery.trim(l)}else if(t[o].indexOf("overflow:")>=0){var g=t[o].replace("overflow:","");e.overflow=jQuery.trim(g)}return e},togglePlayPause:function(i,t){if(Lightbox.isSlideshow&&"lightshowPause"==i)for(var o=0;o<Lightbox.slideIdCount;o++)window.clearTimeout(Lightbox.slideIdArray[o]);e("#"+i).hide(),e("#"+t).show(),"lightshowPlay"==i?(Lightbox.isPaused=!1,Lightbox.loopSlides||Lightbox.activeImage!=Lightbox.total-1?Lightbox.total>1&&Lightbox.changeData(Lightbox.activeImage+1):Lightbox.end()):Lightbox.isPaused=!0},triggerLightbox:function(i,t){i.length&&(t&&t.length?e("a[rel^='"+i+"["+t+"]'], area[rel^='"+i+"["+t+"]']").eq(0).trigger("click"):e("a[rel^='"+i+"'], area[rel^='"+i+"']").eq(0).trigger("click"))},detectMacFF2:function(){var e=navigator.userAgent.toLowerCase();if(/firefox[\/\s](\d+\.\d+)/.test(e)){var i=new Number(RegExp.$1);if(3>i&&-1!=e.indexOf("mac"))return!0}return!1},checkKey:function(e,i,t){return-1!=jQuery.inArray(i,e)||-1!=jQuery.inArray(String(t),e)},filterXSS:function(i,t){var o="";return e.ajax({url:Drupal.settings.basePath+"?q=system/lightbox2/filter-xss",data:{string:i,allowed_tags:t},type:"POST",async:!1,dataType:"json",success:function(e){o=e}}),o}},Drupal.behaviors.initLightbox={attach:function(i){e("body:not(.lightbox-processed)",i).addClass("lightbox-processed").each(function(){return Lightbox.initialize(),!1}),Lightbox.initList(i),e("#lightboxAutoModal",i).triggerHandler("click")}}}(jQuery);;/**/
